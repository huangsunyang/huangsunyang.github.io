---
title: Lexical Analyzer
date: 2019-08-10 21:31:54
categories: 编译原理
tags: [编译原理, 词法分析]
---

### 一些无关的感想
最近在看编译原理龙书，词法分析一章看的差不多了，但仍然处于一种似懂非懂的状态，这又让我想起，大学期末考试之前复习的时候，反而是我能够真正将所有知识串联起来，融汇贯通的时候，这也就是总结和复习的重要性，因而萌生了将最近的所学所想总结一下的想法。另外，这两天忙里偷闲一直在看[云风的博客](https://blog.codingnow.com/)，十分佩服，更加坚定了总结与记录的念头。

### 词法分析的作用
词法分析是编译过程的第一阶段，它接触到的是第一手的程序源代码。它只处理词法而不处理语法，也就是他不在意串的含义，只在意串的**模式**，但实际上这是一种简化，因为计算机识别不了语义，只能用转化为识别模式。就像收营员结账用的条形码扫描机，扫描机并不知道你买的到底是什么东西，它只知道符合某种**模式**的条形码，以此来区分不同类型的物品。而不同的物品有不同的条形码这样的前提条件，也就是不同语义的串有不同的模式，是需要设计者来保证的。

也就是说，词法分析的作用是识别出程序代码中具有某种模式的串。再类比一下，就是从一串潘多拉手链中识别出每颗珠子的类型。（注意珠子之间可能有联系，可能多颗珠子合起来才是一个配件）
![潘多拉手链](pandora.jpg)

举个例子，一行C代码经过词法分析器，会得到一组分散的**词法单元**序列

- input
``` C
printf("%d", a);
```

<!-- more -->

- output
```
<printf, id> <(> <%d, literal> <,> <a, id> <)> <;>
```

output中的每个尖括号内都是一组词法单元，也就是这个串的含义和它的类型。printf和a都是变量名，这里用id来表示类型，%d是一个字符串常量，这里用literal来表示类型。其他的符号的类型只包含他们自身，因此省略了类型这一项，因为他们的值和类型可以是一样的。类型更加专业的描述为**词法单元名**，值更专业的描述为**属性**，而对应这个词法单元的原串称为**词素**。


### 如何描述一种模式？
看到刚才的那一行代码，为什么认为prinf是一个词素？因为C的变量名需要满足以下条件：
- 只包含下划线，字母或者数字
- 必须以下划线或者字母开头
当我们遇到(的时候，可以确定变量名已经结束了。

#### 正则表达式
正则表达式是一种用来描述词素模式的重要方法，C中变量的模式对应在正则表达式中即`[_a-zA-Z][_a-zA-Z0-9]*`。即使不熟悉正则表达式，我们也可以发现它将**我们对模式的描述**转化成了类数学语言。其中[]中括起来代表在其中任选一个，\*代表0个或者多个重复的模式。
